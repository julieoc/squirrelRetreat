<!DOCTYPE html>
<!--

Name: Julie Cao
Student ID: 216188104
Subject: SIT7714
Assignment: Assignment 1
Comment: This is a page which allows guests to enter their information and book a room at The Squirrel Retreat

-->
<html lang="en" xml:lang="en">
<head>
    <meta charset="UTF-8">
	<meta name="description" content="Booking form for The Squirrel Retreat"/>
	<meta name="keywords" content="booking, guest information, squirrel,retreat,accomodation,hotel, holiday"/>
	<meta name="author" content="Julie Oanh Cao"/>
	<link rel="stylesheet" type="text/css" href="css/bodyAndHeadings.css">
	<link rel="stylesheet" type="text/css" href="css/navigationMenu.css">
	<link rel="stylesheet" type="text/css" href="css/retreatHeading.css">
	<link rel="stylesheet" type="text/css" href="css/formDefaults.css"/>
	<link rel="stylesheet" type="text/css" href="css/disclaimer.css">
<style type="text/css">
	
	
	
h2 {
	margin-top:-2em;
}
div#bodyDivGuestInfoPage{
	height:550px;
}	
div#guestInfo, div#paymentSection{
	display:inline-block;
	width:37%;	
}
div#paymentSection{
	padding-left:5%;
}
table{
	width:100%;
	border-collapse:collapse;
}
td.fieldInput{
	width:60%;	
}
input, select{
	height:25px;
}
textarea {
	height:50px;
}
#guestInfoSubmitButton{
	width:150px;
	height:50px;
	}
#submitButtonDiv{
	padding-top:5%;
	float:right;
}
input[type="submit"]:active {
    color: green;
}
#twoTablesAndButton{
	display:inline-block;
	width:97%;
	text-align:left;
	margin-top:1%;
}
.cardImages{
	width:57px;
	height:33px;
}
.creditCardDiv {
	width:33%;
	height:100%;
	float:left;
	text-align:center;
}
.leftCard {
	text-align:left;
}
.rightCard {
	text-align:right;
}
#cash{
	float:right;
	margin-top:-16%;
	height:200px;
}

</style>

<title>Guest Information</title>
<script src="js/stringChecks.js" ></script>
<script>
function resetErrors(errorElement)
{

	errorElement.innerHTML ="";
	errorElement.style.height = "0px";

}

if(validateGuestBooking()) 
	{
		document.getElementById("guestInfoSubmitButton").onclick = function() {
  	window.location.href = "availability_redirect.html";
		};
	}

function validateGuestBooking() 
{
console.log("function called");
    var guestBookingForm = document.getElementById("guestBooking"); 
    var guestFirstName = guestBookingForm["firstName"];
    var guestMiddleName = guestBookingForm["middleName"];
    var guestLastName = guestBookingForm["lastName"];
    var guestEmailAddress = guestBookingForm["emailAddress"];
    var guestHomeNo = guestBookingForm["homePhoneNumber"];
    var guestMobileNo = guestBookingForm["mobilePhoneNumber"];
    var guestAddress = guestBookingForm["address"];
    var guestCity = guestBookingForm["city"];
    var guestPostalCode = guestBookingForm["postalCode"];
    var guestState = guestBookingForm["state"];
    var guestCountry = guestBookingForm["country"];
    var guestCardName = guestBookingForm["cardHolderName"];
    var guestCardNo = guestBookingForm["cardNumber"];
    var guestCardExpYear = guestBookingForm["yearOfExpiry"];
    var guestCardVerCode = guestBookingForm["verificationNo"];
    var guestCardBillingAddress = guestBookingForm["billingAddress"];
    var guestCardCity = guestBookingForm["billingCity"];
    var guestCardState = guestBookingForm["billingState"];
    var guestCardPostcode = guestBookingForm["billingPostCode"];
    var guestCardCountry = guestBookingForm["billingCountry"];
    
	var errorsExist = false;
    if(isEmptyString(guestFirstName))
    {
    	document.getElementById('firstNameError').innerHTML ="This field cannot be blank. Please enter your first name";
    	document.getElementById("firstNameError").style.height = "20px"
    	errorsExist = true;
    }
   	else if(!checkForAlphaString(guestFirstName.value))
   	{
   		document.getElementById('firstNameError').innerHTML ="First name can only contain alpha characters";
    	document.getElementById("firstNameError").style.height = "20px"
    	errorsExist = true;
   	}
	else
    {
    	resetErrors(firstNameError);
    }
    
    if (!isEmptyString(guestMiddleName) && !checkForAlphaString(guestMiddleName.value))
   	{
   		document.getElementById('middleNameError').innerHTML ="Middle name can only contain alpha characters";
    	document.getElementById("middleNameError").style.height = "20px"
    	errorsExist = true;
   	}
	else
    {
    	resetErrors(middleNameError);
    }
    
    if(isEmptyString(guestLastName))
    {
    	document.getElementById('lastNameError').innerHTML ="This field cannot be blank. Please enter your last name";
    	document.getElementById("lastNameError").style.height = "20px"
		errorsExist = true;
    } 
    else if(!checkForAlphaString(guestLastName.value))
   	{
   		document.getElementById('lastNameError').innerHTML ="Last name can only contain alphanumeric characters";
    	document.getElementById('lastNameNameError').style.height = "20px"
		errorsExist = true;
   	}
    else
    {
    	resetErrors(lastNameError)
    }
    
    if(isEmptyString(guestEmailAddress))
    {
    	document.getElementById('emailAddressError').innerHTML ="This field cannot be blank. Please enter your email address";
    	document.getElementById('emailAddressError').style.height = "20px";
		errorsExist = true;
    } 
    else if(!checkForValidEmailAddress(guestEmailAddress.value))
    {
    	document.getElementById('emailAddressError').innerHTML ="Please enter a valid email address";
    	document.getElementById('emailAddressError').style.height = "20px";
		errorsExist = true;   
	}
	else
    {
    	resetErrors(emailAddressNameError);
    }
    
	if(isEmptyString(guestHomeNo))
	{
		document.getElementById('homePhoneNumberError').innerHTML ="Please enter your home phone number";
    	document.getElementById('homePhoneNumberError').style.height = "20px";
		errorsExist = true;
	}
	else if(!checkForNumberStrng(guestHomeNo.value))
	{
		document.getElementById('homePhoneNumberError').innerHTML ="Please enter a valid home phone number";
    	document.getElementById('homePhoneNumberError').style.height = "20px";
		errorsExist = true;
	}
	else
    {
    	resetErrors(homePhoneNumberError);
    }
    
	if(isEmptyString(guestMobileNo))
	{
		document.getElementById('mobilePhoneNumberError').innerHTML ="Please enter your mobile phone number";
    	document.getElementById('mobilePhoneNumberError').style.height = "20px";
		errorsExist = true;
	}
	else if(!checkForNumberStrng(guestMobileNo.value))
	{
		document.getElementById('mobilePhoneNumberError').innerHTML ="Please enter a valid mobile phone number";
    	document.getElementById('mobilePhoneNumberError').style.height = "20px";
		errorsExist = true;
	}
	else
    {
    	resetErrors(mobilePhoneNumberError);
    }
    
	if(isEmptyString(guestAddress))
	{
		document.getElementById("addressError").innerHTML ="Please enter your address";
    	document.getElementById("addressError").style.height = "20px";
		errorsExist = true;
	}
	else if (!checkForNumbersAndAlphaOnly(guestAddress.value))
	{
		document.getElementById("addressError").innerHTML ="Please enter your address";
    	document.getElementById("addressError").style.height = "20px";
		errorsExist = true;
	}
	else
    {
    	resetErrors(addressError);
    }
    
	if(isEmptyString(guestCity))
	{
		document.getElementById("cityError").innerHTML ="Please enter your city";
    	document.getElementById("cityError").style.height = "20px";
		errorsExist = true;
	}
	else if(!checkForAlphaString(guestCity.value))
   	{
   		document.getElementById("cityError").innerHTML ="City name can only contain alphabetical characters";
    	document.getElementById("cityError").style.height = "20px"
		errorsExist = true;
   	}
   	else
    {
    	resetErrors(cityError);
    }
    
	if(isEmptyString(guestPostalCode))
	{
		document.getElementById("postalCodeError").innerHTML ="Please enter your postal code";
    	document.getElementById("postalCodeError").style.height = "20px";
		errorsExist = true;
	}
	else if(!checkForNumberStrng(guestPostalCode.value))
	{
		document.getElementById("postalCodeError").innerHTML ="Please enter a valid postal code";
    	document.getElementById("postalCodeError").style.height = "20px";
		errorsExist = true;
	}
	else
    {
    	resetErrors(postalCodeError);
    }
    if(isEmptyString(guestState))
	{
		document.getElementById("stateError").innerHTML ="Please enter your state";
    	document.getElementById("stateError").style.height = "20px";
		errorsExist = true;
	}
   	else if(!checkForAlphaString(guestState.value))
   	{
   		document.getElementById("stateError").innerHTML ="City name can only contain alphabetical characters";
    	document.getElementById("stateError").style.height = "20px"
		errorsExist = true;
   	} 
	else
    {
    	resetErrors(stateError);
    }
    if(isEmptyString(guestCountry))
    {
		document.getElementById("countryError").innerHTML ="Please enter your country";
    	document.getElementById("countryError").style.height = "20px";
		errorsExist = true;
	}
    else if(!checkForAlphaString(guestCountry.value))
   	{
   		document.getElementById("countryError").innerHTML ="Country name can only contain alphabetical characters";
    	document.getElementById("countryError").style.height = "20px"
		errorsExist = true;
   	} 
   	else
    {
    	resetErrors(countryError);
    }
    if(isEmptyString(guestCardName))
    {
		document.getElementById("cardHolderNameError").innerHTML ="Please enter the cardholder name";
    	document.getElementById("cardHolderNameError").style.height = "20px";
		errorsExist = true;
	}
	else if(!checkForAlphaString(guestCardName.value))
   	{
   		document.getElementById("cardHolderNameError").innerHTML ="Cardholder name can only contain alphabetical characters";
    	document.getElementById("cardHolderNameError").style.height = "20px"
		errorsExist = true;
   	} 
   	else
    {
    	resetErrors(cardHolderNameError);
    }
    if(isEmptyString(guestCardNo))
    {
		document.getElementById("cardNumberError").innerHTML ="Please enter the card number";
    	document.getElementById("cardNumberError").style.height = "20px";
		errorsExist = true;
	}
	else if(!checkForNumberStrng(guestCardNo.value))
	{
		document.getElementById("cardNumberError").innerHTML ="Please enter a valid credit card number";
    	document.getElementById("cardNumberError").style.height = "20px";
		errorsExist = true;
	}
	else
    {
    	resetErrors(cardNumberError);
    }
    if(isEmptyString(guestCardExpYear))
    {
		document.getElementById("yearOfExpiryError").innerHTML ="Please enter the year of expiry";
    	document.getElementById("yearOfExpiryError").style.height = "20px";
		errorsExist = true;
	}
	else if(!checkForNumberStrng(guestCardExpYear.value))
	{
		document.getElementById("yearOfExpiryError").innerHTML ="Please enter a valid year of expiry";
    	document.getElementById("yearOfExpiryError").style.height = "20px";
		errorsExist = true;
	}
	else
    {
    	resetErrors(yearOfExpiryError);
    }
    if(isEmptyString(guestCardVerCode))
    {
		document.getElementById("verificationNoError").innerHTML ="Please enter the card's verification number";
    	document.getElementById("verificationNoError").style.height = "20px";
		errorsExist = true;
	}
	else if(!checkForNumberStrng(guestCardVerCode.value))
	{
		document.getElementById("verificationNoError").innerHTML ="Please enter a valid verification number";
    	document.getElementById("verificationNoError").style.height = "20px";
		errorsExist = true;
	}
	else
    {
    	resetErrors(verificationNoError);
    }
    if(isEmptyString(guestCardBillingAddress))
    {
		document.getElementById("billingAddressError").innerHTML ="Please enter the card's billing address";
    	document.getElementById("billingAddressError").style.height = "20px";
		errorsExist = true;
	}
	else
	{
    	resetErrors(billingAddressError);
    }
    
    if(isEmptyString(guestCardCity))
    {
		document.getElementById("billingCityError").innerHTML ="Please enter the card's billing city";
    	document.getElementById("billingCityError").style.height = "20px";
		errorsExist = true;
	}
	else if(!checkForNumberStrng(guestCardCity.value))
	{
		document.getElementById("billingCityError").innerHTML ="Please enter a valid billing city";
    	document.getElementById("billingCityError").style.height = "20px";
		errorsExist = true;
	}
	else
	{
    	resetErrors(billingCityError);
    }
    if(isEmptyString(guestCardState))
    {
		document.getElementById("billingStateError").innerHTML ="Please enter the card's billing state";
    	document.getElementById("billingStateError").style.height = "20px";
		errorsExist = true;
	}
	else if(!checkForAlphaString(guestCardState.value))
   	{
   		document.getElementById("billingStateError").innerHTML ="Billing state can only contain alphabetical characters";
    	document.getElementById("billingStateError").style.height = "20px"
		errorsExist = true;
   	} 
   	else
    {
    	resetErrors(billingStateError);
    }
    
    if(isEmptyString(guestCardPostcode))
    {
		document.getElementById("billingPostCodeError").innerHTML ="Please enter the card's billing postcode";
    	document.getElementById("billingPostCodeError").style.height = "20px";
		errorsExist = true;
	}
	else if(!checkForNumberStrng(guestCardPostcode.value))
	{
		document.getElementById("billingPostCodeError").innerHTML ="Please enter a valid billing postcode";
    	document.getElementById("billingPostCodeError").style.height = "20px";
		errorsExist = true;
	}
	else
	{
    	resetErrors(billingPostCodeError);
    }
	if(isEmptyString(guestCardCountry))
    {
		document.getElementById("billingCountryError").innerHTML ="Please enter the card's billing country";
    	document.getElementById("billingCountryError").style.height = "20px";
		errorsExist = true;
	}
	else if(!checkForAlphaString(guestCardCountry.value))
   	{
   		document.getElementById("billingCountryError").innerHTML ="Billing country can only contain alphabetical characters";
    	document.getElementById("billingCountryError").style.height = "20px";
		errorsExist = true;
   	} 
   	else
    {
    	resetErrors(billingCountryError);
    }
	return !errorsExist;
}
</script>
</head>
<body>

	<!-- Company logo section -->
	<div id="titleAndCaption">
	<div id="retreatLogoDiv">  
	<!-- The retreat logo was created by modifying the following digital image of a tree silhouette,freestockphotos, accessed 23 July  2016, <http://www.freestockphotos.biz/stockphoto/15119>-->	
	<img src="images/retreatLogo.png" alt="retreat logo" id="retreatLogo"/>
	</div>
    <h1>THE SQUIRREL RETREAT</h1>
    
    <!-- not sure about this being a <p>, perhaps <caption>? -->
    <p id="titleCaption">PROVIDING LUXURY ACCOMODATION FOR SQUIRRELS SINCE 1923</p>
    </div>
    <!-- END Company logo section -->

<div id="bodyDivGuestInfoPage">

<div id="twoTablesAndButton">
<div id="guestInfo">
<h2> GUEST INFORMATION </h2>

<form id="guestBooking" method="post">
<table>

<tr>
<td class="fieldNames">Title </td>
<td class="fieldInput" ><select name="titleSelection">
	<option value="Sir">Sir</option>
	<option value="Madam">Madam</option>
	<option value="Dame">Dame</option>
	<option value="Professor">Professor</option>
	<option value="Reverend">Reverend</option>
	<option value="Doctor">Doctor</option>
	<option value="Lumberjack">Lumberjack</option>
	<option value="Mr">Mr</option>
	<option value="Mrs">Mrs</option>
	<option value="Miss">Miss</option>
	<option value="Ms">Ms</option>
	<option value="Other">Other</option>
	</select>
</td>
</tr>
<tr>
<td class="fieldNames">First Name*: </td>
<td class="fieldInput"><input type="text" name="firstName" id="firstName" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="firstNameError"></td>
</tr>
<tr>
<td class="fieldNames">Middle Name: </td>
<td class="fieldInput"><input type="text" name="middleName" id="middleName" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="middleNameError"></td>
</tr>
<tr>
<td class="fieldNames"> Last Name*: </td>
<td class="fieldInput"><input type="text" name="lastName" id="lastName" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="lastNameError"></td>
</tr>
<tr>
<td class="fieldNames">Email Address:</td>
<td class="fieldInput"><input type="text" name="emailAddress" id="emailAddress" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="emailAddressError"></td>
</tr>
<tr>
<td class="fieldNames">Home phone no:</td>
<td class="fieldInput"><input type= "number" name="homePhoneNumber" id="homePhoneNumber" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="homePhoneNumberError"></td>
</tr>
<tr>
<td class="fieldNames">Mobile phone no:</td>
<td class="fieldInput"><input type= "number" name="mobilePhoneNumber" id="mobilePhoneNumber" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="mobilePhoneNumberError"></td>
</tr>
<tr>
<td class="fieldNames" >Address: </td>
<td class="fieldInput"><textarea name="address" id="address" onblur="this.value=this.value.trim()"> </textarea></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="addressError"></td>
</tr>
<tr>
<td class="fieldNames">City:</td>
<td class="fieldInput"><input type= "text" name="city" id="city" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="cityError"></td>
</tr>
<tr>
<td class="fieldNames">Postal code:</td>
<td class="fieldInput"> <input type= "number" name="postalCode" id="postalCode" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="postalCodeError"></td>
</tr>
<tr>
<td class="fieldNames">State:</td>
<td class="fieldInput"><input type= "text" name="state" id="state"/></td><span class="errorMessageClass" id="stateError" onblur="this.value=this.value.trim()"></span>
</tr>
<tr>
<td class="fieldNames">Country:</td>
<td class="fieldInput"><input type= "text" name="country" id="country"  onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="countryError" onblur="this.value=this.value.trim()"></td>
</tr>
</table>
</div>

<div id="paymentSection">
<h2> PAYMENT METHOD </h2>


<table>
<tr>
<td colspan="2" class="fieldInput">
<div class="creditCardDiv leftCard"><input type="radio" name="paymentOption" class="radioLabel" id="visa" value ="visa" checked/><!-- digital image of visa logo, megavar, accessed 13 July 2016, <www.megavar.com.au>.-->
	<label for="visa"><img class="cardImages" alt="visaCard" src="images/visa.jpeg"></label>
	<!-- digital image of visa logo, megavar, accessed 13 July 2016, <www.megavar.com.au>.-->
</div><div class="creditCardDiv middleCard"><input type="radio" name="paymentOption" class="radioLabel" id="mastercard" value="mastercard"/>
	<label for="mastercard"><img  class="cardImages" alt="masterCard" src="images/masterCard.jpg"></label>
	
	 <!--digital image of mastercard logo, aroundaboutcars, accessed 13 July 2016, <www.de.aroundaboutcars.com/>-->
</div><div class="creditCardDiv rightCard"><input type="radio" name="paymentOption" class="radioLabel" id="amex" value="amex"/>
	<label for="amex"><img class="cardImages" alt="amexCard" src="images/americanExpress.jpg"></label>
	<!--digital image of american express logo, Instapose Imagery, accessed 13 July 2016, <http://www.instapose.com.au/photobooth/>-->
	</div></td>
</tr>
<tr>
<td class="fieldNames"> Name on card:</td>
<td class="fieldInput"><input type="text" name="cardHolderName" id="cardHolderName" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="cardHolderNameError"></td>
</tr>
<tr>
<td class="fieldNames"> Card number:</td>
<td class="fieldInput"><input type="number" name="cardNumber" id="cardNumber" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="cardNumberError"></td>
</tr>
<tr>
<td class="fieldNames">Expiration date: </td>
<td class="fieldInput" ><select name="expiryMonth">
	<option value="January">January</option>
	<option value="February">February</option>
	<option value="March"> March</option>
	<option value="April">April</option>
	<option value="May">May</option>
	<option value="June">June</option>
	<option value="July">July</option>
	<option value="August"> August</option>
	<option value="September"> September</option>
	<option value="October"> October</option>
	<option value="November"> November</option>
	<option value="December"> December</option>
	</select>
</td>
</tr>
<tr>
<td class="fieldNames">Expiration year:</td>
<td class="fieldInput"><input type="text" name="yearOfExpiry" id="yearOfExpiry" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="yearOfExpiryError"></td>
</tr>
<tr>
<td class="fieldNames">Verification code:</td>
<td class="fieldInput"><input type="number" name="verificationNo" id="verificationNo" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="verificationNoError"></td>
</tr>
<tr>
<td class="fieldNames">Billing Address:</td>
<td class="fieldInput"><textarea name="billingAddress" id="billingAddress" onblur="this.value=this.value.trim()"></textarea></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="billingAddressError"></td>
</tr>
<tr>
<td class="fieldNames">City:</td>
<td class="fieldInput"><input type="text" name="billingCity" id="billingCity" onblur="this.value=this.value.trim()"></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="billingCityError"></td>
</tr>
<tr>
<td class="fieldNames">State:</td>
<td class="fieldInput"><input type="text" name="billingState" id="billingState" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="billingStateError"></td>
</tr>
<tr>
<td class="fieldNames">Postcode:</td>
<td class="fieldInput"><input type="number" name="billingPostCode" id="billingPostCode" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="billingPostCodeError"></td>
</tr>
<tr>
<td class="fieldNames">Country:</td>
<td class="fieldInput"><input type="text" name="billingCountry" id="billingCountry" onblur="this.value=this.value.trim()"/></td>
</tr>
<tr class="errorMessageClass"><td colspan=2 id="billingCountryError"></td>
</tr>
</table>
<div id=submitButtonDiv><input type="submit" value="BOOK NOW" id="guestInfoSubmitButton"/></div>
</form>
</div>
</div>
<div id="cashPicture">
<!--digital image of squirrel holding cash, gettyimages, accessed 20 July 2016, 
<http://media.gettyimages.com/photos/squirrel-holding-money-picture-id83455549?s=170x170>-->
<img src="images/cash.jpg" alt="squirrelHoldingCash" id="cash"/>
</div>
</div>

<!-- Disclaimer section -->
<div id="disclaimer">
<p>Disclaimer:The Squirrel Retreat is a fictional retreat that was created for a university assignment.
Any resemblance to real squirrels, living or dead is purely coincidental.

Deakin University. This web page has been developed as a student assignment for the unit SIT774:Web 
and Internet Programming. Therefore it is not part of the University's authorised web site.

DO NOT USE THE INFORMATION CONTAINED ON THIS WEB PAGE IN ANY WAY.
</p>
<a href="http://www.deakin.edu.au/" target="_blank">
<!--digital image of deakin logo,wikimedia, accessed 15 July 2016,
<https://commons.wikimedia.org/wiki/File:Deakin_Worldly_Logo.jpg>-->
	<img src="images/Deakin_Logo.png" alt="deakin logo" width="90" height="90" id="deakin_logo"/>
</a>
</div>
</body>
</html>
